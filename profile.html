<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masar - My Profile</title>
    <link rel="icon" type="image/png" href="../static/images/whitelogo.png">
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body class="light-page">
    <div id="header"></div>

    <main>
        <div class="page-container">
            
            <div class="profile-layout">
                <aside class="profile-sidebar content-box-segment">
                    <div class="profile-avatar-container">
                        <img src="https://ui-avatars.com/api/?name=User&background=random" id="profile-avatar-display" alt="User Avatar" class="profile-avatar-large">
                        <label for="avatar-upload" class="avatar-upload-btn">
                            <img src="../static/images/camera.png" alt="Edit" class="camera-icon">
                        </label>
                        <input type="file" id="avatar-upload" accept="image/*" style="display: none;" onchange="previewAvatar(event)">
                    </div>
                    
                    <h2 id="sidebar-username">User Name</h2>
                    <p id="sidebar-title" class="profile-role">Aspiring Developer</p>
                    
                    <div class="profile-stats">
                        <div class="stat-item">
                            <span class="stat-value">0</span>
                            <span class="stat-label">Bookmarks</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">0%</span>
                            <span class="stat-label">Progress</span>
                        </div>
                    </div>
                </aside>

                <section class="profile-settings content-box-segment">
                    <h2 class="section-title">Public Profile</h2>
                    <form id="profile-info-form" onsubmit="saveProfileInfo(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="settings-username">Username</label>
                                <input type="text" id="settings-username" class="form-input" placeholder="Enter username">
                            </div>
                            <div class="form-group">
                                <label for="settings-title">Job Title / Status</label>
                                <input type="text" id="settings-title" class="form-input" placeholder="e.g. Frontend Developer">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="settings-email">Email Address</label>
                            <input type="email" id="settings-email" class="form-input" placeholder="email@example.com">
                        </div>

                        <div class="form-group">
                            <label for="settings-bio">Bio</label>
                            <textarea id="settings-bio" class="form-input" rows="4" placeholder="Tell us a little about yourself..."></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="classic-button">Save Changes</button>
                        </div>
                    </form>

                    <hr class="divider">

                    <h2 class="section-title">Security</h2>
                    <form id="password-form" onsubmit="changePassword(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="current-password">Current Password</label>
                                <input type="password" id="current-password" class="form-input" placeholder="••••••••">
                            </div>
                            <div class="form-group">
                                <label for="new-password">New Password</label>
                                <input type="password" id="new-password" class="form-input" placeholder="••••••••">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="secondary-button">Update Password</button>
                        </div>
                    </form>
                </section>
            </div>

        </div>
    </main>

    <div id="footer"></div>

    <script src="../static/js/script.js"></script>
    <script>
        // Specific init for profile page
        document.addEventListener('DOMContentLoaded', () => {
            loadProfileData();
        });
    </script>
</body>
</html>