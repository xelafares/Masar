<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masar - View Roadmap</title>
    <link rel="icon" type="image/png" href="static/images/whitelogo.png">
    <link rel="stylesheet" href="static/css/style.css">
</head>
<body class="light-page">
    <div id="header"></div>

    <main>
        <div class="page-container">
            <div class="back-btn-container">
                <a href="#" id="dynamic-back-btn" class="faded-back-btn">
                    <img src="static/images/back-arrow.png" alt="<" class="back-icon">
                    <span id="back-text">Back</span>
                </a>
            </div>

            <section id="timeline-view" class="roadmap-viewer" style="display:block;">
                <div class="roadmap-header">
                    <h1 id="roadmap-title">Loading...</h1>
                    <p id="roadmap-desc"></p>
                </div>
                <div id="timeline-container" class="timeline"></div>
            </section>
        </div>
    </main>
    <div id="footer"></div>

    <script src="static/js/roadmap_data.js"></script>
    <script src="static/js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const roadmapId = urlParams.get('id');
            
            if(roadmapId) {
                const data = roadmapData[roadmapId];
                if(data) {
                    const backBtn = document.getElementById('dynamic-back-btn');
                    if(data.categories.includes('role')) {
                        backBtn.href = "roadmap_roles.html";
                        document.getElementById('back-text').innerText = "Back to Roles";
                    } else if (data.categories.includes('skill')) {
                        backBtn.href = "roadmap_skills.html";
                        document.getElementById('back-text').innerText = "Back to Skills";
                    } else {
                        backBtn.href = "roadmap.html";
                    }
                    loadRoadmapTimeline(roadmapId);
                }
            }
        });
    </script>
</body>
</html>